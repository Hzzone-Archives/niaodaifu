<!--pages/discussion_area/discussion_area.wxml-->
<import src="../../dist/components/refresher/refresher.wxml"/>

<view class="container" style="position: absolute; height: 100%; {{ $wux.refresher.style }}; display: block;" bindtouchstart="touchstart" bindtouchmove="touchmove" bindtouchend="touchend">
    <template is="refresher" data="{{ ...$wux.refresher }}"/>
    <!-- <view class='post_item flex_view' wx:for='{{posts}}' wx:key='*this' wx:key='post_id'> -->
    <view class='post_item flex_view' wx:for='{{posts}}' wx:key='{{item.post_id}}'>
        <view class='post_info'>
            <navigator url='/pages/user_detail/user_detail?{{item.user_id}}'>
                <image src='{{item.user_head_img}}' class='user_head_img'></image>
            </navigator>
            <view class='user_info flex_view'>
                <text class='user_name'>{{item.user_name}}</text>
                <text class='time'>{{item.time}}</text>
            </view>
        </view>
        <navigator class='flex_view' url='/pages/post_detail/post_detail' bindtap='see_detail' data-index='{{index}}'>
            <view class='title'>{{item.title}}</view>
            <view class='content'>{{item.content}}</view>
        </navigator>
        <view class='action_area'>
            <text>{{item.comment_counts}}回复</text>
            <view>
                <view wx:if="{{item.isSupport}}" class='aciton_button' bindtap='cancel_support' bindtap='change_color' data-index='{{index}}'>              
                    <image src='/images/赞_填充.png'></image>
                    <text>点赞</text>
                </view>
                <view wx:else class='aciton_button' bindtap='support' bindtap='change_color' data-index='{{index}}'>
                    <image src='/images/赞.png'></image>
                    <text>点赞</text>
                </view>
                <view class='aciton_button'>
                    <image src='/images/comments.png'></image>
                    <text>回复</text>
                </view>
            </view>
        </view>
    </view>
</view>